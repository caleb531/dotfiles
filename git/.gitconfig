# .gitconfig
# Caleb Evans

# User information
[user]
	name = Caleb Evans
	email = caleb@calebevans.me

# Store user credentials in macOS Keychain
[credential]
	helper = osxkeychain

# Core configuration
[core]
	# Use a global .gitignore for project-independent files
	excludesfile = ~/dotfiles/git/gitignore_global
	# Highlight line-specific changes and use diff-so-fancy to format diff
	pager = diff-so-fancy | less --tabs=1,5 -R

# Interactive staging
[interactive]
	# Use same diff highlighting for interactive staging
	diffFilter = diff-so-fancy

# Always sign commits using GPG
[commit]
	gpgsign = true

# Push/pull current branch by default (when no arguments are given)
[push]
	default = simple
[pull]
	default = simple

[diff]
	# Enable more-logical grouping of changes in diffs
	indentHeuristic = true
	# Consider a "word" a sequences of alphanumeric characters OR a single
	# non-space non-alphanumeric character
	wordRegex = [A-Za-z0-9]+|[^[:space:]]

[log]
	# Set a more human-readable default date format for git log
	date = format:%a %b %-d %Y @ %-I:%M %p
	# Disable log decoration (enabled by default in Git v2.13.0)
	decorate = no

# Set pleasant colors for diffs
[color "diff-highlight"]
	oldNormal = red bold
	oldHighlight = red bold 52
	newNormal = green bold
	newHighlight = green bold 22

# Disable "advice" help messages
[advice]
	# Advice shown when git refuses to merge or checkout due to local changes
	commitBeforeMerge = false
	# Advice shown when entering detached HEAD state
	detachedHead = false
	# Advice shown when push is rejected by remote
	pushUpdateRejected = false
	# Advice shown when running `git status`
	statusHints = false

# Useful Git aliases
[alias]
	addp = add -p
	chp = cherry-pick
	commita = commit --amend
	delete-merged-local-branches = !git branch --merged | grep -Pv '(^\\*|master|develop)' | xargs git branch -d
	delete-merged-remote-branches = !git branch --remote --merged | sed 's|origin/||g' | grep -Pv '(master|develop)' | xargs git push -d origin
	diffc = diff --cached
	diffcw = diff --color-words
	diffcwc = diff --color-words --cached
	diffni = diff --no-index
	diffniw = diff --no-index --ignore-all-space
	diffno = diff --name-only
	diffnoc = diff --name-only --cached
	diffns = diff --name-status
	diffnsc = diff --name-status --cached
	difflasttag = !git diff $(git lasttag)
	diffw = diff --ignore-all-space
	diffwc = diff --ignore-all-space --cached
	gcpn = gc --prune=now
	lasttag = describe --tags --abbrev=0
	logg = log --fixed-strings --regexp-ignore-case --grep
	logs = log -S
	mergenff = merge --no-ff
	pusht = push --tags
	pushd = !git push -d origin "$(git rev-parse --abbrev-ref HEAD)"
	pushu = !git push -u origin "$(git rev-parse --abbrev-ref HEAD)"
	rmc = rm --cached
	rpo = remote prune origin
	rvp = rev-parse
	short = !git rev-parse --short $@ | xargs echo -n | pbcopy
	showcw = show --color-words
	showno = show --name-only
	showns = show --name-status
	stashki = stash --keep-index
	stashp = stash pop
